{"version":3,"sources":["RankControllerJS.js"],"names":["cc","Class","extends","Component","properties","rankView","Sprite","onLoad","start","sys","platform","WECHAT_GAME","tex","Texture2D","window","sharedCanvas","width","height","wx","postMessage","messageType","MAIN_MENU_NUM","_updateSubDomainCanvas","undefined","initWithElement","handleLoadedTexture","spriteFrame","SpriteFrame","update","backAction","director","loadScene"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,kBAAUL,GAAGM,MADL,CACY;AADZ,KAFP;AAKLC,UALK,oBAKI,CACR,CANI;AAOLC,SAPK,mBAOG;AACJ,YAAIR,GAAGS,GAAH,CAAOC,QAAP,KAAoBV,GAAGS,GAAH,CAAOE,WAA/B,EAA4C;AACxC,iBAAKC,GAAL,GAAW,IAAIZ,GAAGa,SAAP,EAAX;AACAC,mBAAOC,YAAP,CAAoBC,KAApB,GAA4B,GAA5B;AACAF,mBAAOC,YAAP,CAAoBE,MAApB,GAA6B,GAA7B;AACAH,mBAAOI,EAAP,CAAUC,WAAV,CAAsB;AAClBC,6BAAa,CADK;AAElBC,+BAAe;AAFG,aAAtB;AAIH;AACJ,KAjBI;;AAkBL;AACAC,0BAnBK,oCAmBoB;AACrB,YAAIR,OAAOC,YAAP,IAAuBQ,SAA3B,EAAsC;AAClC,iBAAKX,GAAL,CAASY,eAAT,CAAyBV,OAAOC,YAAhC;AACA,iBAAKH,GAAL,CAASa,mBAAT;AACA,iBAAKpB,QAAL,CAAcqB,WAAd,GAA4B,IAAI1B,GAAG2B,WAAP,CAAmB,KAAKf,GAAxB,CAA5B;AACH;AACJ,KAzBI;AA0BLgB,UA1BK,oBA0BI;AACL,aAAKN,sBAAL;AACH,KA5BI;AA6BLO,cA7BK,wBA6BQ;AACT7B,WAAG8B,QAAH,CAAYC,SAAZ,CAAsB,WAAtB;AACH;AA/BI,CAAT","file":"RankControllerJS.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Controller","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        rankView: cc.Sprite,//显示排行榜\r\n    },\r\n    onLoad() {\r\n    },\r\n    start() {\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            this.tex = new cc.Texture2D();\r\n            window.sharedCanvas.width = 540;\r\n            window.sharedCanvas.height = 960;\r\n            window.wx.postMessage({\r\n                messageType: 1,\r\n                MAIN_MENU_NUM: \"x1\"\r\n            });\r\n        }\r\n    },\r\n    // 刷新子域的纹理\r\n    _updateSubDomainCanvas() {\r\n        if (window.sharedCanvas != undefined) {\r\n            this.tex.initWithElement(window.sharedCanvas);\r\n            this.tex.handleLoadedTexture();\r\n            this.rankView.spriteFrame = new cc.SpriteFrame(this.tex);\r\n        }\r\n    },\r\n    update() {\r\n        this._updateSubDomainCanvas();\r\n    },\r\n    backAction() {\r\n        cc.director.loadScene('MenuScene');\r\n    },\r\n});\r\n"]}