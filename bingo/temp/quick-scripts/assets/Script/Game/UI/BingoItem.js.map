{"version":3,"sources":["BingoItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\UI","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class BingoItem extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    userManager = null;\r\n    user = null;\r\n\r\n    @property(cc.Label)\r\n    itemLabel = null;\r\n    @property(cc.Node)\r\n    ragBg = null;\r\n    @property(cc.Node)\r\n    blackBg = null;\r\n\r\n    contrastItems = null;\r\n    point = null;\r\n    private isTrue: boolean = false;\r\n    private mode_2: boolean = false;\r\n\r\n    callback: (i, j) => void = null\r\n    // onLoad () {}\r\n\r\n    start() {\r\n        this.node.on(cc.Node.EventType.TOUCH_START, function (event) {\r\n            this.onClickScreen(event);\r\n        }, this);\r\n    }\r\n\r\n    setAnswer(answer) {\r\n        this.ragBg.opacity = 0;\r\n        this.blackBg.opacity = 0;\r\n        this.isTrue = false;\r\n\r\n        var answer_arr = answer.split(',');\r\n        if (answer_arr.length >= 4) {\r\n            const answer_str = answer_arr[1].charAt(parseInt(answer_arr[2]) - 1);\r\n            this.itemLabel.string = answer_str;\r\n        }\r\n    }\r\n\r\n    getIsTrue(): boolean {\r\n        return this.isTrue;\r\n    }\r\n\r\n    getIsReply(): boolean {\r\n        return this.ragBg.opacity == 255;\r\n    }\r\n\r\n    setError() {\r\n        this.ragBg.opacity = 0;\r\n        this.blackBg.opacity = 255;\r\n    }\r\n\r\n    private onClickScreen(event) {\r\n        // this.isTrue = true;\r\n        // this.ragBg.opacity = 255;\r\n        // if (this.callback && this.point) {\r\n        //     this.callback(this.point.x, this.point.y);\r\n        // }\r\n        // return;\r\n        //必须正确\r\n        if (this.ragBg.opacity == 255) {\r\n            return;\r\n        }\r\n        for (let i = 0; i < this.contrastItems.length; i++) {\r\n            const scrollerItem = this.contrastItems[i];\r\n            var scrollerItemScript = scrollerItem.getComponent(\"ScrollerItem\");\r\n            if (this.itemLabel.string == scrollerItemScript.getAnswer()) {\r\n                this.isTrue = true;\r\n                break;\r\n            }\r\n        }\r\n        if (this.isTrue) {\r\n            this.ragBg.opacity = 255;\r\n            if (this.callback && this.point) {\r\n                this.callback(this.point.x, this.point.y);\r\n            }\r\n        }\r\n        return;\r\n\r\n        //不正确也可以点\r\n        if (this.ragBg.opacity == 255) {\r\n            this.isTrue = false;\r\n            this.ragBg.opacity = 0;\r\n            if (this.callback && this.point) {\r\n                this.callback(this.point.x, this.point.y);\r\n            }\r\n            return;\r\n        }\r\n        this.user = cc.instantiate(this.userManager).getComponent('UserManager');\r\n        for (let i = 0; i < this.contrastItems.length; i++) {\r\n            const scrollerItem = this.contrastItems[i];\r\n            var scrollerItemScript = scrollerItem.getComponent(\"ScrollerItem\");\r\n            if (this.user.getGameMode() == \"2\" && scrollerItemScript.isStop) {\r\n                continue;\r\n            }\r\n            if (this.itemLabel.string == scrollerItemScript.getAnswer()) {\r\n                this.isTrue = true;\r\n                break;\r\n            }\r\n        }\r\n        this.ragBg.opacity = 255;\r\n        if (this.callback && this.point) {\r\n            this.callback(this.point.x, this.point.y);\r\n        }\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}