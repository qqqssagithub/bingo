{"version":3,"sources":["../../../../../../assets/Script/Game/UI/assets/Script/Game/UI/BingoItem.ts"],"names":[],"mappings":";;;;AAAA,oBAAoB;AACpB,iFAAiF;AACjF,yFAAyF;AACzF,mBAAmB;AACnB,2FAA2F;AAC3F,mGAAmG;AACnG,8BAA8B;AAC9B,2FAA2F;AAC3F,mGAAmG;;AAE7F,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAG5C;IAAuC,6BAAY;IADnD;QAAA,qEA8GC;QA1GG,iBAAW,GAAG,IAAI,CAAC;QACnB,UAAI,GAAG,IAAI,CAAC;QAGZ,eAAS,GAAG,IAAI,CAAC;QAEjB,WAAK,GAAG,IAAI,CAAC;QAEb,aAAO,GAAG,IAAI,CAAC;QAEf,mBAAa,GAAG,IAAI,CAAC;QACrB,WAAK,GAAG,IAAI,CAAC;QACL,YAAM,GAAY,KAAK,CAAC;QACxB,YAAM,GAAY,KAAK,CAAC;QAEhC,cAAQ,GAAmB,IAAI,CAAA;;QA0F/B,iBAAiB;IACrB,CAAC;IA1FG,eAAe;IAEf,yBAAK,GAAL;QACI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,UAAU,KAAK;YACvD,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9B,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAED,6BAAS,GAAT,UAAU,MAAM;QACZ,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAEpB,IAAI,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACnC,IAAI,UAAU,CAAC,MAAM,IAAI,CAAC,EAAE;YACxB,IAAM,UAAU,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACrE,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,CAAC;SACtC;IACL,CAAC;IAED,6BAAS,GAAT;QACI,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED,8BAAU,GAAV;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,CAAC;IACrC,CAAC;IAED,4BAAQ,GAAR;QACI,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,GAAG,CAAC;IAC/B,CAAC;IAEO,iCAAa,GAArB,UAAsB,KAAK;QACvB,IAAI;QACJ,sBAAsB;QACtB,4BAA4B;QAC5B,qCAAqC;QACrC,iDAAiD;QACjD,IAAI;QAEJ,MAAM;QACN,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,EAAE;YAC3B,OAAO;SACV;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAChD,IAAM,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YAC3C,IAAI,kBAAkB,GAAG,YAAY,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC;YACnE,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,kBAAkB,CAAC,SAAS,EAAE,EAAE;gBACzD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,kBAAkB,CAAC,UAAU,EAAE,CAAC;gBAChC,MAAM;aACT;SACJ;QACD,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;YACzB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,EAAE;gBAC7B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;aAC7C;SACJ;QAED,SAAS;QACT,mCAAmC;QACnC,2BAA2B;QAC3B,8BAA8B;QAC9B,yCAAyC;QACzC,qDAAqD;QACrD,QAAQ;QACR,cAAc;QACd,IAAI;QACJ,4EAA4E;QAC5E,wDAAwD;QACxD,kDAAkD;QAClD,0EAA0E;QAC1E,yEAAyE;QACzE,oBAAoB;QACpB,QAAQ;QACR,qEAAqE;QACrE,8BAA8B;QAC9B,2CAA2C;QAC3C,iBAAiB;QACjB,QAAQ;QACR,IAAI;QACJ,4BAA4B;QAC5B,qCAAqC;QACrC,iDAAiD;QACjD,IAAI;IACR,CAAC;IAvGD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;kDACD;IAInB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;gDACF;IAEjB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;4CACL;IAEb;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CACH;IAXE,SAAS;QAD7B,OAAO;OACa,SAAS,CA6G7B;IAAD,gBAAC;CA7GD,AA6GC,CA7GsC,EAAE,CAAC,SAAS,GA6GlD;kBA7GoB,SAAS","file":"","sourceRoot":"../../../../../../assets/Script/Game/UI","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class BingoItem extends cc.Component {\n\n    @property(cc.Prefab)\n    userManager = null;\n    user = null;\n\n    @property(cc.Label)\n    itemLabel = null;\n    @property(cc.Node)\n    ragBg = null;\n    @property(cc.Node)\n    blackBg = null;\n\n    contrastItems = null;\n    point = null;\n    private isTrue: boolean = false;\n    private mode_2: boolean = false;\n\n    callback: (i, j) => void = null\n    // onLoad () {}\n\n    start() {\n        this.node.on(cc.Node.EventType.TOUCH_START, function (event) {\n            this.onClickScreen(event);\n        }, this);\n    }\n\n    setAnswer(answer) {\n        this.ragBg.opacity = 0;\n        this.blackBg.opacity = 0;\n        this.isTrue = false;\n\n        var answer_arr = answer.split(',');\n        if (answer_arr.length >= 4) {\n            const answer_str = answer_arr[1].charAt(parseInt(answer_arr[2]) - 1);\n            this.itemLabel.string = answer_str;\n        }\n    }\n\n    getIsTrue(): boolean {\n        return this.isTrue;\n    }\n\n    getIsReply(): boolean {\n        return this.ragBg.opacity == 255;\n    }\n\n    setError() {\n        this.ragBg.opacity = 0;\n        this.blackBg.opacity = 255;\n    }\n\n    private onClickScreen(event) {\n        //测试\n        // this.isTrue = true;\n        // this.ragBg.opacity = 255;\n        // if (this.callback && this.point) {\n        //     this.callback(this.point.x, this.point.y);\n        // }\n\n        //必须正确\n        if (this.ragBg.opacity == 255) {\n            return;\n        }\n        for (let i = 0; i < this.contrastItems.length; i++) {\n            const scrollerItem = this.contrastItems[i];\n            var scrollerItemScript = scrollerItem.getComponent(\"ScrollerItem\");\n            if (this.itemLabel.string == scrollerItemScript.getAnswer()) {\n                this.isTrue = true;\n                scrollerItemScript.showAnswer();\n                break;\n            }\n        }\n        if (this.isTrue) {\n            this.ragBg.opacity = 255;\n            if (this.callback && this.point) {\n                this.callback(this.point.x, this.point.y);\n            }\n        }\n\n        //不正确也可以点\n        // if (this.ragBg.opacity == 255) {\n        //     this.isTrue = false;\n        //     this.ragBg.opacity = 0;\n        //     if (this.callback && this.point) {\n        //         this.callback(this.point.x, this.point.y);\n        //     }\n        //     return;\n        // }\n        // this.user = cc.instantiate(this.userManager).getComponent('UserManager');\n        // for (let i = 0; i < this.contrastItems.length; i++) {\n        //     const scrollerItem = this.contrastItems[i];\n        //     var scrollerItemScript = scrollerItem.getComponent(\"ScrollerItem\");\n        //     if (this.user.getGameMode() == \"2\" && scrollerItemScript.isStop) {\n        //         continue;\n        //     }\n        //     if (this.itemLabel.string == scrollerItemScript.getAnswer()) {\n        //         this.isTrue = true;\n        //         scrollerItemScript.showAnswer();\n        //         break;\n        //     }\n        // }\n        // this.ragBg.opacity = 255;\n        // if (this.callback && this.point) {\n        //     this.callback(this.point.x, this.point.y);\n        // }\n    }\n\n    // update (dt) {}\n}\n"]}