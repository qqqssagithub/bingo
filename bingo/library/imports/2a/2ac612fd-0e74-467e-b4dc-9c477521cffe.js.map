{"version":3,"sources":["../../../../../../assets/Script/Game/UI/assets/Script/Game/UI/Next.ts"],"names":[],"mappings":";;;;AAAA,oBAAoB;AACpB,iFAAiF;AACjF,yFAAyF;AACzF,mBAAmB;AACnB,2FAA2F;AAC3F,mGAAmG;AACnG,8BAA8B;AAC9B,2FAA2F;AAC3F,mGAAmG;;AAE7F,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAE5C,iDAA2C;AAG3C;IAAkC,wBAAY;IAD9C;QAAA,qEAqFC;QAjFG,iBAAW,GAAG,IAAI,CAAC;QACnB,UAAI,GAAG,IAAI,CAAC;QAGZ,iBAAW,GAAG,IAAI,CAAC;QAEnB,iBAAW,GAAG,IAAI,CAAC;QAEnB,gBAAU,GAAG,IAAI,CAAC;QAElB,cAAQ,GAAe,IAAI,CAAA;;QAsE3B,iBAAiB;IACrB,CAAC;IArEG,qBAAM,GAAN;QACI,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;IAC7E,CAAC;IAED,oBAAK,GAAL;IAEA,CAAC;IAED,sBAAO,GAAP,UAAQ,SAAS;QACb,IAAI,SAAS,EAAE;YACX,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;YAChC,4EAA4E;YAC5E,sCAAsC;YACtC,8CAA8C;YAC9C,iBAAiB;YACjB,qBAAqB;YACrB,kBAAkB;YAClB,qDAAqD;YACrD,4BAA4B;YAC5B,kBAAkB;YAClB,qDAAqD;YACrD,4BAA4B;YAC5B,kBAAkB;YAClB,qDAAqD;YACrD,IAAI;YACJ,uBAAuB;YACvB,uCAAuC;SAC1C;aAAM;YACH,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;YAChC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;SAClC;IACL,CAAC;IAED,8BAAe,GAAf,UAAgB,KAAK;QACjB,IAAI,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC3C,KAAK,IAAI,CAAC,CAAC;QACX,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC1B,IAAI,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC3C,KAAK,IAAI,GAAG,CAAC;QACb,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAE1B,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACzB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IAED,0BAAW,GAAX,UAAY,KAAK;QAAjB,iBAiBC;QAhBG,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,kBAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;YACd,IAAI,KAAK,GAAG,QAAQ,CAAC,KAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;YAC3C,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC;YACf,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC1B,IAAI,KAAK,GAAG,QAAQ,CAAC,KAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;YAC3C,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC;YACjB,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAE1B,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;YAChC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;YAChC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACzB,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,QAAQ,EAAE,CAAC;aACnB;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IA/ED;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;6CACD;IAInB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;6CACC;IAEnB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;6CACC;IAEnB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;4CACD;IAXD,IAAI;QADxB,OAAO;OACa,IAAI,CAoFxB;IAAD,WAAC;CApFD,AAoFC,CApFiC,EAAE,CAAC,SAAS,GAoF7C;kBApFoB,IAAI","file":"","sourceRoot":"../../../../../../assets/Script/Game/UI","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst { ccclass, property } = cc._decorator;\n\nimport Platform from \"../Platform/Platform\"\n\n@ccclass\nexport default class Next extends cc.Component {\n\n    @property(cc.Prefab)\n    userManager = null;\n    user = null;\n\n    @property(cc.Node)\n    successNode = null;\n    @property(cc.Node)\n    failureNode = null;\n    @property(cc.Label)\n    scroeLabel = null;\n\n    callback: () => void = null\n\n    onLoad() {\n        this.user = cc.instantiate(this.userManager).getComponent('UserManager');\n    }\n\n    start() {\n\n    }\n\n    setData(isSuccess) {\n        if (isSuccess) {\n            this.successNode.active = true;\n            this.failureNode.active = false;\n            // this.user = cc.instantiate(this.userManager).getComponent('UserManager');\n            // var mode = this.user.getGameMode();\n            // var totalScore = this.user.getTotalScore();\n            // var scroe = 0;\n            // if (mode == \"0\") {\n            //     scroe = 10;\n            //     this.scroeLabel.string = \"获得：\" + scroe + \"学分\";\n            // } else if (mode == \"1\") {\n            //     scroe = 25;\n            //     this.scroeLabel.string = \"获得：\" + scroe + \"学分\";\n            // } else if (mode == \"2\") {\n            //     scroe = 50;\n            //     this.scroeLabel.string = \"获得：\" + scroe + \"学分\";\n            // }\n            // totalScore += scroe;\n            // this.user.setTotalScore(totalScore);\n        } else {\n            this.successNode.active = false;\n            this.failureNode.active = true;\n        }\n    }\n\n    closeSelfAction(event) {\n        var power = parseInt(this.user.getPower());\n        power += 2;\n        this.user.setPower(power);\n        var money = parseInt(this.user.getMoney());\n        money += 100;\n        this.user.setMoney(money);\n\n        this.successNode.active = false;\n        this.failureNode.active = false;\n        this.node.active = false;\n        if (this.callback) {\n            this.callback();\n        }\n    }\n\n    shareAction(event) {\n        var self = this;\n        Platform.share(1, () => {\n            var power = parseInt(this.user.getPower());\n            power += 2 * 2;\n            this.user.setPower(power);\n            var money = parseInt(this.user.getMoney());\n            money += 100 * 2;\n            this.user.setMoney(money);\n\n            self.successNode.active = false;\n            self.failureNode.active = false;\n            self.node.active = false;\n            if (self.callback) {\n                self.callback();\n            }\n        });\n    }\n    // update (dt) {}\n}\n"]}