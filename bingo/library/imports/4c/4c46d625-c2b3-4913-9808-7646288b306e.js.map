{"version":3,"sources":["../../../../../assets/Script/LocalData/assets/Script/LocalData/UserManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/Script/LocalData","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst { ccclass, property } = cc._decorator;\n\nimport Platform from \"../Game/Platform/Platform\"\n\n@ccclass\nexport default class UserManager extends cc.Component {\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {}\n\n    start() {\n\n    }\n\n    setDay(day) {\n        cc.sys.localStorage.setItem('day', day);\n    }\n    getDay() {\n        var day = \"-1\";\n        let value_day = cc.sys.localStorage.getItem('day');\n        if (value_day != null && value_day != undefined && value_day != \"\") {\n            day = value_day;\n        }\n        return parseInt(day);\n    }\n\n    setUserInfo(info) {\n        if (info.length == 2) {\n            cc.sys.localStorage.setItem('nickName', info[0]);\n            cc.sys.localStorage.setItem('avatarUrl', info[1]);\n        }\n    }\n    getUserInfo() {\n        var nickName = \"\";\n        let value_nickName = cc.sys.localStorage.getItem('nickName');\n        if (value_nickName != null && value_nickName != undefined && value_nickName != \"\") {\n            nickName = value_nickName;\n        }\n        var avatarUrl = \"\";\n        let value_avatarUrl = cc.sys.localStorage.getItem('avatarUrl');\n        if (value_avatarUrl != null && value_avatarUrl != undefined && value_avatarUrl != \"\") {\n            avatarUrl = value_avatarUrl;\n        }\n        return [nickName, avatarUrl];\n    }\n\n    initGuide() {\n        cc.sys.localStorage.removeItem('showGuide0')\n        cc.sys.localStorage.removeItem('showGuide1')\n    }\n    setIsShowGuide0(showGuide0) {\n        cc.sys.localStorage.setItem('showGuide0', showGuide0);\n    }\n    setIsShowGuide1(showGuide1) {\n        cc.sys.localStorage.setItem('showGuide1', showGuide1);\n    }\n    getIsShowGuide0() {\n        return cc.sys.localStorage.getItem('showGuide0');\n    }\n    getIsShowGuide1() {\n        return cc.sys.localStorage.getItem('showGuide1');\n    }\n\n    setTotalScore(totalScore) {\n        Platform.updateScore(totalScore);\n        cc.sys.localStorage.setItem('totalScore', totalScore);\n    }\n    getTotalScore() {\n        var totalScore = \"0\";\n        let value = cc.sys.localStorage.getItem('totalScore');\n        if (value != null && value != undefined && value != \"\") {\n            totalScore = value;\n        }\n        return parseInt(totalScore);\n    }\n\n    lv = 1;\n    progress = 0;\n    getLvAndProgress() {\n        var totalScore = this.getTotalScore();\n        console.log('总分：', totalScore);\n        \n        this.lv = 1;\n        var isContinue = true;\n        while (isContinue) {\n            var l = totalScore / this.lv / 10;\n            if (l > 1) {\n                totalScore -= this.lv * 10;\n                this.lv++;\n            } else {\n                this.progress = totalScore / this.lv / 10;\n                console.log('progress: ', this.progress);\n                this.lv--;\n                console.log('lv: ', this.lv);\n                isContinue = false;\n            }\n        }\n    }\n    getLv() {\n        this.getLvAndProgress();\n        return this.lv;\n    }\n    getProgress() {\n        this.getLvAndProgress();\n        return this.progress;\n    }\n\n    setPower(power) {\n        cc.sys.localStorage.setItem('power', power);\n    }\n    getPower() {\n        var power = \"0\";\n        let value = cc.sys.localStorage.getItem('power');\n        if (value != null && value != undefined && value != \"\") {\n            power = value;\n        }\n        return parseInt(power);\n    }\n\n    setMoney(money) {\n        cc.sys.localStorage.setItem('money', money);\n    }\n    getMoney() {\n        var money = \"0\";\n        let value = cc.sys.localStorage.getItem('money');\n        if (value != null && value != undefined && value != \"\") {\n            money = value;\n        }\n        return parseInt(money);\n    }\n\n    setGameMode(mode) {\n        cc.sys.localStorage.setItem('gameMode', mode);\n    }\n    getGameMode() {\n        var mode = \"0\";\n        let value = cc.sys.localStorage.getItem('gameMode');\n        if (value != null && value != undefined && value != \"\") {\n            mode = value;\n        }\n        return mode;\n    }\n    // update (dt) {}\n}\n"]}