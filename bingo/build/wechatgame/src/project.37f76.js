require=function i(s,a,c){function l(e,t){if(!a[e]){if(!s[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(p)return p(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var r=a[e]={exports:{}};s[e][0].call(r.exports,function(t){return l(s[e][1][t]||t)},r,r.exports,i,s,a,c)}return a[e].exports}for(var p="function"==typeof require&&require,t=0;t<c.length;t++)l(c[t]);return l}({BingoItem:[function(t,e,o){"use strict";cc._RF.push(e,"bb396e5E9dGGr4wdePxNy2l","BingoItem"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userManager=null,t.user=null,t.itemLabel=null,t.ragBg=null,t.blackBg=null,t.contrastItems=null,t.point=null,t.isTrue=!1,t.mode_2=!1,t.callback=null,t}return __extends(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){this.onClickScreen(t)},this)},t.prototype.setAnswer=function(t){this.ragBg.opacity=0,this.blackBg.opacity=0,this.isTrue=!1;var e=t.split(",");if(4<=e.length){var o=e[1].charAt(parseInt(e[2])-1);this.itemLabel.string=o}},t.prototype.getIsTrue=function(){return this.isTrue},t.prototype.getIsReply=function(){return 255==this.ragBg.opacity},t.prototype.setError=function(){this.ragBg.opacity=0,this.blackBg.opacity=255},t.prototype.onClickScreen=function(t){this.isTrue=!0,this.ragBg.opacity=255,this.callback&&this.point&&this.callback(this.point.x,this.point.y)},__decorate([i(cc.Prefab)],t.prototype,"userManager",void 0),__decorate([i(cc.Label)],t.prototype,"itemLabel",void 0),__decorate([i(cc.Node)],t.prototype,"ragBg",void 0),__decorate([i(cc.Node)],t.prototype,"blackBg",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],ChangeMode:[function(t,e,o){"use strict";cc._RF.push(e,"10790LwbtZHuIz6H8iafkT+","ChangeMode"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userManager=null,t.user=null,t.modeButton=null,t.spring0=null,t.spring1=null,t.spring2=null,t.spring3=null,t.spring4=null,t.spring5=null,t.guideNode1=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.setMode(-1)},t.prototype.start=function(){},t.prototype.changeModeAction0=function(){this.setMode(0)},t.prototype.changeModeAction1=function(){this.setMode(1)},t.prototype.changeModeAction2=function(){this.setMode(2)},t.prototype.setMode=function(t){this.user=cc.instantiate(this.userManager).getComponent("UserManager"),-1<t&&this.user.setGameMode(t),"0"==(t=this.user.getGameMode())?(this.spring0.node.opacity=0,this.spring1.node.opacity=255,this.spring2.node.opacity=255,this.spring3.node.opacity=0,this.spring4.node.opacity=255,this.spring5.node.opacity=0):"1"==t?(this.spring0.node.opacity=255,this.spring1.node.opacity=0,this.spring2.node.opacity=0,this.spring3.node.opacity=255,this.spring4.node.opacity=255,this.spring5.node.opacity=0):"2"==t&&(this.spring0.node.opacity=255,this.spring1.node.opacity=0,this.spring2.node.opacity=255,this.spring3.node.opacity=0,this.spring4.node.opacity=0,this.spring5.node.opacity=255)},t.prototype.closeModeNodeAction=function(t){console.log("123123123"),this.node.setPosition(835,480),this.user.getIsShowGuide1()||this.guideNode1.setPosition(270,480)},__decorate([i(cc.Prefab)],t.prototype,"userManager",void 0),__decorate([i(cc.Button)],t.prototype,"modeButton",void 0),__decorate([i(cc.Sprite)],t.prototype,"spring0",void 0),__decorate([i(cc.Sprite)],t.prototype,"spring1",void 0),__decorate([i(cc.Sprite)],t.prototype,"spring2",void 0),__decorate([i(cc.Sprite)],t.prototype,"spring3",void 0),__decorate([i(cc.Sprite)],t.prototype,"spring4",void 0),__decorate([i(cc.Sprite)],t.prototype,"spring5",void 0),__decorate([i(cc.Node)],t.prototype,"guideNode1",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],HeadIcon:[function(t,e,o){"use strict";cc._RF.push(e,"ed288Ni9m9HzroSGiZDoj2w","HeadIcon"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.icons=[],t}return __extends(t,e),t.prototype.start=function(){},t.prototype.initSpriteFrameWithUrl=function(t){var o=this;cc.loader.load(t,function(t,e){o.icon.SpriteFrame=new cc.SpriteFrame(e)})},t.prototype.initSpriteFrameWithIndex=function(t){this.icon.spriteFrame=this.icons[t]},__decorate([i(cc.Sprite)],t.prototype,"icon",void 0),__decorate([i({type:[cc.SpriteFrame]})],t.prototype,"icons",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],LocalDataManager:[function(t,e,o){"use strict";cc._RF.push(e,"6f4c62YO5ZPu7Uy2wTSKHow","LocalDataManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rankData=null,t.randomCount=0,t.spawningTime=0,t.movingTime=0,t.data_b=[],t.data_i=[],t.data_n=[],t.data_g=[],t.data_o=[],t.scrollerData=null,t.answerData=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.parseRank=function(i,s){this.rankData=[];var a=this;cc.loader.loadRes("LocalData/rank",function(t,e){if(t)cc.error(t);else{var o=e.split("\n");o.splice(0,2);for(var n=0;n<o.length;n++){var r=o[n];a.rankData.push(r)}"function"==typeof i&&i.apply(s)}})},t.prototype.parseParameter=function(s,a){var c=this;cc.loader.loadRes("LocalData/parameter",function(t,e){if(t)cc.error(t);else{var o=e.split("\n"),n=o[0].split(",");2<=n.length&&(c.randomCount=parseInt(n[1]));var r=o[1].split(",");2<=r.length&&(c.spawningTime=parseInt(r[1]));var i=o[2].split(",");2<=i.length&&(c.movingTime=parseInt(i[1])),"function"==typeof s&&s.apply(a)}})},t.prototype.parseData=function(a,c){var l=this;cc.loader.loadRes("LocalData/bingo",function(t,e){if(t)cc.error(t);else{var o=e.split("\n");o.splice(0,2);for(var n=0;n<o.length;n++){var r=o[n],i=r.split(",");if(4<=i.length){var s=i[3].charAt(0);"B"==s?l.data_b.push(r):"I"==s?l.data_i.push(r):"N"==s?l.data_n.push(r):"G"==s?l.data_g.push(r):"O"==s&&l.data_o.push(r)}}"function"==typeof a&&a.apply(c)}})},t.prototype.generatingData=function(t,e){if(this.scrollerData=[],this.answerData=[],!(this.data_b.length<t/5||this.data_b.length!=this.data_i.length||this.data_b.length!=this.data_n.length||this.data_b.length!=this.data_g.length||this.data_b.length!=this.data_o.length)){for(var o=0,n=0,r=[],i=this.data_b.slice(),s=this.data_i.slice(),a=this.data_n.slice(),c=this.data_g.slice(),l=this.data_o.slice();n<t/5;){var p=Math.floor(Math.random()*i.length);if(o<e){var u="",d=this.data_b[p].split(",");4<=d.length&&(u=d[1].charAt(parseInt(d[2])-1));var h="",g=this.data_i[p].split(",");4<=g.length&&(h=g[1].charAt(parseInt(g[2])-1));var m="",f=this.data_n[p].split(",");4<=f.length&&(m=f[1].charAt(parseInt(f[2])-1));var y="",_=this.data_g[p].split(",");4<=_.length&&(y=_[1].charAt(parseInt(_[2])-1));var v="",w=this.data_o[p].split(",");4<=w.length&&(v=w[1].charAt(parseInt(w[2])-1));for(var b=[u,h,m,y,v],I=0;I<this.answerData.length;I++){var N=this.answerData[I].split(",");if(4<=N.length){var S=N[1].charAt(parseInt(N[2])-1);b.push(S)}}if(this.isAnyEqual(b))continue;this.answerData.splice(o,0,this.data_b[p]),this.data_b.splice(p,1),this.answerData.splice(2*o+1,0,this.data_i[p]),this.data_i.splice(p,1),this.answerData.splice(3*o+2,0,this.data_n[p]),this.data_n.splice(p,1),this.answerData.splice(4*o+3,0,this.data_g[p]),this.data_g.splice(p,1),this.answerData.splice(5*o+4,0,this.data_o[p]),this.data_o.splice(p,1),o++}r.push(i[p]),i.splice(p,1),r.push(s[p]),s.splice(p,1),r.push(a[p]),a.splice(p,1),r.push(c[p]),c.splice(p,1),r.push(l[p]),l.splice(p,1),n++}for(I=0;I<t;I++){p=Math.floor(Math.random()*r.length);this.scrollerData.push(r[p]),r.splice(p,1)}}},t.prototype.isAnyEqual=function(t){var e={};for(var o in t){if(e[t[o]])return!0;e[t[o]]=!0}return!1},t=__decorate([r],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],MenuController:[function(t,e,o){"use strict";cc._RF.push(e,"25579jzplZHZpLXIESwhmA/","MenuController"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=n.property,s=t("../Platform/Platform"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localDataManager=null,t.userManager=null,t.user=null,t.lvLabel=null,t.progress=null,t.bar=null,t.powerLabel=null,t.moneyLabel=null,t.localData=null,t.rankData=null,t.noPowerNode=null,t}return __extends(t,e),t.prototype.onLoad=function(){var n=this;this.user=cc.instantiate(this.userManager).getComponent("UserManager");var t=(new Date).getDate();t!=this.user.getDay()&&(this.user.setDay(t),this.user.getPower()<20&&this.user.setPower(20));s.default.getUserInfo(function(t,e){if(null==t&&null!=e.userInfo){var o=e.userInfo;n.user.setUserInfo([o.nickName,o.avatarUrl])}}),s.default.init(),this.getLvAndScroe()},t.prototype.start=function(){},t.prototype.getLvAndScroe=function(){var t=this.user.getLv(),e=this.user.getProgress(),o=this.user.getPower(),n=this.user.getMoney();this.lvLabel.string=t;var r=this.progress.getComponent(cc.ProgressBar);this.bar.type=.9<e?cc.Sprite.Type.SLICED:cc.Sprite.Type.TILED,r.progress=e,this.powerLabel.string=o,this.moneyLabel.string=n},t.prototype.addPowerAction=function(){this.addPower()},t.prototype.beginAction=function(){parseInt(this.user.getPower())<=0?this.noPowerNode.setPosition(0,0):cc.director.loadScene("PlayScene")},t.prototype.rankAction=function(){cc.director.loadScene("RankScene")},t.prototype.shareAction=function(){this.addPower()},t.prototype.addPower=function(){var e=this,o=this;s.default.share(0,function(){var t=parseInt(o.user.getPower());t+=2,o.user.setPower(t),o.powerLabel.string=t,e.noPowerNode.position.x<=0&&e.moveNoPowerNodeAction()})},t.prototype.moveNoPowerNodeAction=function(){this.noPowerNode.setPosition(780,0)},__decorate([i(cc.Prefab)],t.prototype,"localDataManager",void 0),__decorate([i(cc.Prefab)],t.prototype,"userManager",void 0),__decorate([i(cc.Label)],t.prototype,"lvLabel",void 0),__decorate([i(cc.ProgressBar)],t.prototype,"progress",void 0),__decorate([i(cc.Sprite)],t.prototype,"bar",void 0),__decorate([i(cc.Label)],t.prototype,"powerLabel",void 0),__decorate([i(cc.Label)],t.prototype,"moneyLabel",void 0),__decorate([i(cc.Node)],t.prototype,"noPowerNode",void 0),t=__decorate([r],t)}(cc.Component);o.default=a,cc._RF.pop()},{"../Platform/Platform":"Platform"}],Next:[function(t,e,o){"use strict";cc._RF.push(e,"2ac61L9DnRGfrTcnEd1Ic/+","Next"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=n.property,s=t("../Platform/Platform"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userManager=null,t.user=null,t.successNode=null,t.failureNode=null,t.scroeLabel=null,t.callback=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.user=cc.instantiate(this.userManager).getComponent("UserManager")},t.prototype.start=function(){},t.prototype.setData=function(t){t?(this.successNode.opacity=255,this.failureNode.opacity=0):(this.successNode.opacity=0,this.failureNode.opacity=255)},t.prototype.closeSelfAction=function(t){this.successNode.opacity=0,this.failureNode.opacity=0,this.node.setPosition(1902,667),this.callback&&this.callback()},t.prototype.shareAction=function(t){var e=this,o=this;s.default.share(1,function(){var t=parseInt(e.user.getPower());t+=2,e.user.setPower(t),o.successNode.opacity=0,o.failureNode.opacity=0,o.node.setPosition(1902,667),o.callback&&o.callback()})},__decorate([i(cc.Prefab)],t.prototype,"userManager",void 0),__decorate([i(cc.Node)],t.prototype,"successNode",void 0),__decorate([i(cc.Node)],t.prototype,"failureNode",void 0),__decorate([i(cc.Label)],t.prototype,"scroeLabel",void 0),t=__decorate([r],t)}(cc.Component);o.default=a,cc._RF.pop()},{"../Platform/Platform":"Platform"}],PlatformWX:[function(t,e,o){"use strict";cc._RF.push(e,"cd9a2889D9KBp1rZzVM/Mc7","PlatformWX"),e.exports={getUserInfo:function(e){wx.getUserInfo({success:function(t){console.log("获取玩家信息成功"),console.log(t),e(null,t)},fail:function(){console.log("获取玩家信息出错"),e("wx:getUserInfo_fail",null)}})},init:function(){wx.showShareMenu(),wx.getSetting({success:function(t){console.log("获取微信授权：",t),0==t.authSetting["scope.userInfo"]&&wx.openSetting({})}}),wx.onShareAppMessage(function(){return{title:"猫鼠大战一触即发，谁是最终王者！",imageUrl:"images/share.png",success:function(t){}}}),wx.onShow(function(t){var e=t.query;if(console.log("wx.onShow:",t),null!=e&&null!=e.inviterId)console.log("点击分享进入");else{console.log("自己进入")}})},share:function(e){wx.shareAppMessage({title:"猫鼠大战一触即发，谁是最终王者！",imageUrl:"images/share.png",success:function(t){e&&e()}})},shareShortCutImage:function(e){var t=cc.game.canvas,o=cc.winSize.width,n=cc.winSize.height;t.toTempFilePath({x:0,y:.25*n,width:o,height:4*o/5,destWidth:o,destHeight:4*o/5,success:function(t){console.log(t),wx.shareAppMessage({title:"好学生就是我，成语量超过了80%的微信好友。",imageUrl:t.tempFilePath,success:function(t){e&&e()}})}})},rank:function(){},updateScore:function(t){window.wx.postMessage({messageType:3,MAIN_MENU_NUM:"x1",score:t})}},cc._RF.pop()},{}],Platform:[function(t,e,o){"use strict";cc._RF.push(e,"14c93yd40tBoZh6/TGW8nPX","Platform"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./js/platformWX"),r=function(){function t(){}return t.getUserInfo=function(t){cc.sys.platform===cc.sys.WECHAT_GAME&&n.getUserInfo(t)},t.init=function(){cc.sys.platform===cc.sys.WECHAT_GAME&&n.init()},t.share=function(t,e){cc.sys.platform===cc.sys.WECHAT_GAME&&(1==t?n.shareShortCutImage(e):n.share(e))},t.rank=function(){cc.sys.platform===cc.sys.WECHAT_GAME&&n.rank()},t.updateScore=function(t){cc.sys.platform===cc.sys.WECHAT_GAME&&n.updateScore(t)},t}();o.default=r,cc._RF.pop()},{"./js/platformWX":"PlatformWX"}],PlayController:[function(t,e,o){"use strict";cc._RF.push(e,"d52eekK1rZGQ6w9xR3r+ygA","PlayController"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=n.property,s=t("../Platform/Platform"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userManager=null,t.user=null,t.lvLabel=null,t.progress=null,t.bar=null,t.powerLabel=null,t.moneyLabel=null,t.headNode=null,t.headIcon=null,t.guideNode0=null,t.guideNode1=null,t.modeButton=null,t.modeNode=null,t.matrixRow=0,t.padding=0,t.pointArr=null,t.bingoItemNode=null,t.bingoItemMaskNode=null,t.bingoItem=null,t.bingoItems=null,t.answerLine=null,t.spawningTime=0,t.movingTime=0,t.scrollerItemNode=null,t.scrollerItem=null,t.timeOutButton=null,t.timeOut=-1,t.beginGameButton=null,t.intervalBegin=0,t.countdownNum=0,t.countdownNode=null,t.countdownLabel=null,t.isBeginGame=0,t.intervalNum=0,t.gameTime=0,t.scrollerItemCount=0,t.scrollerItems=null,t.bingoButton=null,t.localDataManager=null,t.localData=null,t.rankData=null,t.data=null,t.randomCount=0,t.randomData=null,t.randomAnswer=null,t.helpButton=null,t.helpCountLabel=null,t.currentHelpCount=null,t.ruleNode=null,t.nextNode=null,t.noPowerNode=null,t.flyScoreNode=null,t.intervalLine=0,t.lineCount=0,t}return __extends(t,e),t.prototype.onLoad=function(){this.user=cc.instantiate(this.userManager).getComponent("UserManager"),this.getLvAndScroe(),this.addHeadIcon(),this.nextNode.getComponent("Next").callback=this.nextCallback.bind(this),this.scrollerItems=[],this.bingoItems=[],this.answerLine=[],this.buildCoordinate(),this.localData=cc.instantiate(this.localDataManager).getComponent("LocalDataManager"),this.localData.parseParameter(this.getParameter,this)},t.prototype.getLvAndScroe=function(){var t=this.user.getLv(),e=this.user.getProgress(),o=this.user.getPower(),n=this.user.getMoney();this.lvLabel.string=t;var r=this.progress.getComponent(cc.ProgressBar);this.bar.type=.9<e?cc.Sprite.Type.SLICED:cc.Sprite.Type.TILED,r.progress=e,this.powerLabel.string=o,this.moneyLabel.string=n},t.prototype.addHeadIcon=function(){for(var t=this.user.getUserInfo(),e=0;e<6;e++){var o=cc.instantiate(this.headIcon);this.headNode.addChild(o);var n=o.getComponent("HeadIcon");0==e&&""!=t[1]?n.initSpriteFrameWithUrl(t[1]):n.initSpriteFrameWithIndex(e),o.setPosition(30+60*e,30)}},t.prototype.getParameter=function(){this.randomCount=this.localData.randomCount,this.spawningTime=this.localData.spawningTime,this.movingTime=this.localData.movingTime,this.localData.parseData(this.refreshUI,this)},t.prototype.resetGameState=function(){this.isBeginGame=1,this.beginGameButton.node.getChildByName("Label").getComponent(cc.Label).string="准备就绪",this.scrollerItemCount=0,this.gameTime=0,this.currentHelpCount=0,this.scrollerItems.forEach(function(t){t.destroy()}),this.scrollerItems.splice(0,this.scrollerItems.length),this.answerLine.splice(0,this.answerLine.length),this.intervalNum&&clearInterval(this.intervalNum),this.bingoItemMaskNode.setPosition(-270,-270)},t.prototype.refreshUI=function(){this.resetGameState(),this.localData.generatingData(this.randomCount,this.matrixRow),this.randomData=this.localData.scrollerData,this.randomAnswer=this.localData.answerData,this.initAnswer(),this.beginGameAction(null)},t.prototype.initAnswer=function(){if(!(this.randomAnswer.length<this.matrixRow*this.matrixRow))if(this.bingoItems.length==this.matrixRow)for(var t=0,e=0;e<this.matrixRow;e++)for(var o=0;o<this.matrixRow;o++){var n=(s=this.bingoItems[e][o]).getComponent("BingoItem"),r=this.randomAnswer[t];n.setAnswer(r),t++}else for(t=0,e=0;e<this.matrixRow;e++){var i=[];for(o=0;o<this.matrixRow;o++){var s;(s=cc.instantiate(this.bingoItem)).setPosition(this.pointArr[e][o].x,this.pointArr[e][o].y),this.bingoItemNode.addChild(s);n=s.getComponent("BingoItem"),r=this.randomAnswer[t];n.setAnswer(r),n.contrastItems=this.scrollerItems,n.point=cc.v2(e,o),n.callback=this.bingoItemCallback.bind(this),i.push(s),t++}this.bingoItems.push(i)}},t.prototype.start=function(){},t.prototype.buildCoordinate=function(){var t=this.bingoItemNode.width/this.matrixRow,e=t/2,o=this.padding+t/2;this.pointArr=[];for(var n=0;n<this.matrixRow;n++){for(var r=[],i=0;i<this.matrixRow;i++){var s=cc.v2(e+n*t,o+i*t);r.push(s)}this.pointArr.push(r)}},t.prototype.addScrollerItem=function(){if(!(this.randomData.length<this.randomCount)){var t=cc.instantiate(this.scrollerItem);t.setPosition(370,0),this.scrollerItemNode.addChild(t);var e=t.getComponent("ScrollerItem"),o=this.randomData[this.scrollerItemCount],n=this.movingTime;"2"==this.user.getGameMode()&&(n/=2),e.setData(o,n),this.scrollerItemCount++,this.scrollerItems.push(t),this.scrollerItemCount>=this.randomCount&&this.intervalNum&&clearInterval(this.intervalNum)}},t.prototype.beginGameAction=function(t){if(0<this.guideNode1.position.x&&this.guideNode1.setPosition(-1425,480),this.user.getIsShowGuide1()||this.user.setIsShowGuide1(!0),1==this.isBeginGame){var e=parseInt(this.user.getPower());if(e<=0)return void this.noPowerNode.setPosition(375,667);e-=2,this.user.setPower(e),this.powerLabel.string=e,this.intervalBegin=setInterval(this.countdown.bind(this),1e3),this.countdownNum=5,this.countdownLabel.string=this.countdownNum,this.countdownNode.setPosition(375,667)}else this.refreshUI()},t.prototype.countdown=function(){if(this.countdownNum--,this.countdownLabel.string=this.countdownNum,0==this.countdownNum){this.countdownNode.setPosition(-527,667),this.intervalBegin&&clearInterval(this.intervalBegin),this.bingoItemMaskNode.setPosition(-270,600),this.beginGameButton.node.getChildByName("Label").getComponent(cc.Label).string="放弃",this.isBeginGame=2,this.addScrollerItem();var t=this.spawningTime;this.intervalNum=setInterval(this.addScrollerItem.bind(this),1e3*t)}},t.prototype.flyScore=function(t){var r=cc.instantiate(this.flyScoreNode),e=t.parent.convertToWorldSpaceAR(t.position),o=cc.v2(181,1190);r.setPosition(e.x,e.y),r.getComponent(cc.Label).string="+1XP",this.node.addChild(r);var n=cc.pDistance(e,o)/500,i=cc.moveTo(n,o),s=cc.scaleTo(n,.3);r.stopAllActions();var a=this,c=cc.spawn(i,s);r.runAction(cc.sequence(c,cc.callFunc(function(){var t=a.user.getTotalScore();t++,a.user.setTotalScore(t);var e=a.user.getLv(),o=a.user.getProgress();a.lvLabel.string=e;var n=a.progress.getComponent(cc.ProgressBar);a.bar.type=.9<o?cc.Sprite.Type.SLICED:cc.Sprite.Type.TILED,n.progress=o,r.destroy()})))},t.prototype.bingoItemCallback=function(t,e){this.flyScore(this.bingoItems[t][e]),this.answerLine.splice(0,this.answerLine.length);for(var o=0;o<this.matrixRow;o++){if(!(r=this.bingoItems[o][e]).getComponent("BingoItem").getIsReply())break;if(o==this.matrixRow-1){this.bingo();for(var n=0;n<this.matrixRow;n++){var r=this.bingoItems[n][e];this.answerLine.push(r)}return}}for(var i=0;i<this.matrixRow;i++){if(!(r=this.bingoItems[t][i]).getComponent("BingoItem").getIsReply())break;if(i==this.matrixRow-1){this.bingo();for(n=0;n<this.matrixRow;n++){r=this.bingoItems[t][n];this.answerLine.push(r)}return}}if(t==e)for(o=0;o<this.matrixRow;o++){if(!(r=this.bingoItems[o][o]).getComponent("BingoItem").getIsReply())break;if(o==this.matrixRow-1){this.bingo();for(n=0;n<this.matrixRow;n++){r=this.bingoItems[n][n];this.answerLine.push(r)}return}}if(t+e==this.matrixRow-1)for(o=0;o<this.matrixRow;o++){if(!(r=this.bingoItems[o][this.matrixRow-1-o]).getComponent("BingoItem").getIsReply())break;if(o==this.matrixRow-1){this.bingo();for(n=0;n<this.matrixRow;n++){r=this.bingoItems[n][this.matrixRow-1-n];this.answerLine.push(r)}return}}},t.prototype.bingo=function(){this.bingoItemMaskNode.setPosition(-270,-270);var t=parseInt(this.user.getPower());t+=2,this.user.setPower(t),this.powerLabel.string=t;var e=parseInt(this.user.getMoney());e+=100,this.user.setMoney(e),this.moneyLabel.string=e,this.isBeginGame=3,this.intervalNum&&clearInterval(this.intervalNum),this.beginGameButton.node.getChildByName("Label").getComponent(cc.Label).string="准备",this.lineCount=0,this.intervalLine=setInterval(this.lineAni.bind(this),150)},t.prototype.lineAni=function(){this.lineCount<this.answerLine.length?this.answerLine[this.lineCount].getComponent("BingoItem").setError():this.answerLine.splice(0,this.answerLine.length);(this.lineCount++,6<=this.lineCount&&this.intervalLine)&&(clearInterval(this.intervalLine),this.nextNode.getComponent("Next").setData(!0),this.nextNode.setPosition(375,667))},t.prototype.bingoAction=function(t){var o=!0;this.answerLine.forEach(function(t){var e=t.getComponent("BingoItem");e.isTrue||(o=!1,e.setError())}),this.nextNode.setPosition(375,667),this.nextNode.getComponent("Next").setData(o),this.isBeginGame=3,this.beginGameButton.node.getChildByName("Label").getComponent(cc.Label).string="准备",this.intervalNum&&clearInterval(this.intervalNum)},t.prototype.moveRuleAction=function(){this.ruleNode.position.y<2052?this.ruleNode.setPosition(375,2052):this.ruleNode.setPosition(375,667)},t.prototype.update=function(t){if(2==this.isBeginGame){this.gameTime+=t;var e=this.spawningTime,o=this.movingTime;if("2"==this.user.getGameMode()&&(e/=2,o/=2),this.gameTime>=e*(this.randomCount-1)+o)this.nextNode.setPosition(375,667),this.isBeginGame=3,this.intervalNum&&clearInterval(this.intervalNum),this.beginGameButton.node.getChildByName("Label").getComponent(cc.Label).string="准备",this.nextNode.getComponent("Next").setData(!1)}},t.prototype.backAction=function(){cc.director.loadScene("MenuScene")},t.prototype.addPowerAction=function(){this.addPower()},t.prototype.addPower=function(){var e=this,o=this;s.default.share(0,function(){var t=parseInt(o.user.getPower());t+=2,o.user.setPower(t),o.powerLabel.string=t,0<e.noPowerNode.position.x&&e.moveNoPowerNodeAction()})},t.prototype.nextCallback=function(){var t=parseInt(this.user.getPower());this.powerLabel.string=t,this.refreshUI()},t.prototype.changeModeAction=function(t){0<this.guideNode0.position.x&&this.guideNode0.setPosition(-858,480),this.user.getIsShowGuide0()||this.user.setIsShowGuide0(!0),this.modeNode.setPosition(270,480)},t.prototype.helpAction=function(t){},t.prototype.moveNoPowerNodeAction=function(){this.noPowerNode.setPosition(-527,2052)},t.prototype.timeOutAction=function(){},__decorate([i(cc.Prefab)],t.prototype,"userManager",void 0),__decorate([i(cc.Label)],t.prototype,"lvLabel",void 0),__decorate([i(cc.ProgressBar)],t.prototype,"progress",void 0),__decorate([i(cc.Sprite)],t.prototype,"bar",void 0),__decorate([i(cc.Label)],t.prototype,"powerLabel",void 0),__decorate([i(cc.Label)],t.prototype,"moneyLabel",void 0),__decorate([i(cc.Node)],t.prototype,"headNode",void 0),__decorate([i(cc.Prefab)],t.prototype,"headIcon",void 0),__decorate([i(cc.Node)],t.prototype,"guideNode0",void 0),__decorate([i(cc.Node)],t.prototype,"guideNode1",void 0),__decorate([i(cc.Button)],t.prototype,"modeButton",void 0),__decorate([i(cc.Node)],t.prototype,"modeNode",void 0),__decorate([i],t.prototype,"matrixRow",void 0),__decorate([i],t.prototype,"padding",void 0),__decorate([i(cc.Node)],t.prototype,"bingoItemNode",void 0),__decorate([i(cc.Node)],t.prototype,"bingoItemMaskNode",void 0),__decorate([i(cc.Prefab)],t.prototype,"bingoItem",void 0),__decorate([i(cc.Node)],t.prototype,"scrollerItemNode",void 0),__decorate([i(cc.Prefab)],t.prototype,"scrollerItem",void 0),__decorate([i(cc.Button)],t.prototype,"timeOutButton",void 0),__decorate([i(cc.Button)],t.prototype,"beginGameButton",void 0),__decorate([i(cc.Node)],t.prototype,"countdownNode",void 0),__decorate([i(cc.Label)],t.prototype,"countdownLabel",void 0),__decorate([i(cc.Button)],t.prototype,"bingoButton",void 0),__decorate([i(cc.Prefab)],t.prototype,"localDataManager",void 0),__decorate([i(cc.Button)],t.prototype,"helpButton",void 0),__decorate([i(cc.Label)],t.prototype,"helpCountLabel",void 0),__decorate([i(cc.Node)],t.prototype,"ruleNode",void 0),__decorate([i(cc.Node)],t.prototype,"nextNode",void 0),__decorate([i(cc.Node)],t.prototype,"noPowerNode",void 0),__decorate([i(cc.Prefab)],t.prototype,"flyScoreNode",void 0),t=__decorate([r],t)}(cc.Component);o.default=a,cc._RF.pop()},{"../Platform/Platform":"Platform"}],RankControllerJS:[function(t,e,o){"use strict";cc._RF.push(e,"2458dP1vR1CjpDPLICkGXWu","RankControllerJS"),cc.Class({extends:cc.Component,properties:{rankView:cc.Sprite},onLoad:function(){},start:function(){cc.sys.platform===cc.sys.WECHAT_GAME&&(this.tex=new cc.Texture2D,window.sharedCanvas.width=540,window.sharedCanvas.height=960,window.wx.postMessage({messageType:1,MAIN_MENU_NUM:"x1"}))},_updateSubDomainCanvas:function(){null!=window.sharedCanvas&&(this.tex.initWithElement(window.sharedCanvas),this.tex.handleLoadedTexture(),this.rankView.spriteFrame=new cc.SpriteFrame(this.tex))},update:function(){this._updateSubDomainCanvas()},backAction:function(){cc.director.loadScene("MenuScene")}}),cc._RF.pop()},{}],ScoreFlyNode:[function(t,e,o){"use strict";cc._RF.push(e,"077daHdb3pOMIeaJcl57Ofx","ScoreFlyNode"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.icons=[],t}return __extends(t,e),t.prototype.start=function(){},t.prototype.initSpriteFrameWithUrl=function(t){var o=this;cc.loader.load(t,function(t,e){o.icon.spriteFrame=new cc.SpriteFrame(e)})},t.prototype.initSpriteFrameWithIndex=function(t){this.icon.spriteFrame=this.icons[t]},__decorate([i(cc.Sprite)],t.prototype,"icon",void 0),__decorate([i({type:[cc.SpriteFrame]})],t.prototype,"icons",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],ScrollerItem:[function(t,e,o){"use strict";cc._RF.push(e,"77baaGhCo9ONr99ZZiQKIFw","ScrollerItem"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentLabel0=null,t.sprite0=null,t.contentLabel1=null,t.sprite1=null,t.contentLabel2=null,t.sprite2=null,t.contentLabel3=null,t.sprite3=null,t.movingTime=0,t.answer="",t.isStop=!1,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var t=this;this.node.runAction(cc.sequence(cc.moveTo(this.movingTime,cc.v2(-370,this.node.position.y)),cc.callFunc(function(){t.isStop=!0},this)))},t.prototype.setData=function(t,e){this.movingTime=e;var o=[];o.push(this.contentLabel0),o.push(this.contentLabel1),o.push(this.contentLabel2),o.push(this.contentLabel3);var n=[];n.push(this.sprite0),n.push(this.sprite1),n.push(this.sprite2),n.push(this.sprite3);var r=t.split(",");if(4<=r.length)for(var i=r[1],s=parseInt(r[2])-1,a=r[3].charAt(0),c=0;c<i.length;c++){var l=i.charAt(c);c==s?(this.answer=l,"B"==a?(o[c].string="B",o[c].node.color=cc.color(52,192,252)):"I"==a?(o[c].string="I",o[c].node.color=cc.color(255,224,35)):"N"==a?(o[c].string="N",o[c].node.color=cc.color(178,79,248)):"G"==a?(o[c].string="G",o[c].node.color=cc.color(0,90,253)):"O"==a&&(o[c].string="O",o[c].node.color=cc.color(0,203,0)),n[c].node.opacity=255):o[c].string=l}},t.prototype.getAnswer=function(){return this.answer},__decorate([i(cc.Label)],t.prototype,"contentLabel0",void 0),__decorate([i(cc.Sprite)],t.prototype,"sprite0",void 0),__decorate([i(cc.Label)],t.prototype,"contentLabel1",void 0),__decorate([i(cc.Sprite)],t.prototype,"sprite1",void 0),__decorate([i(cc.Label)],t.prototype,"contentLabel2",void 0),__decorate([i(cc.Sprite)],t.prototype,"sprite2",void 0),__decorate([i(cc.Label)],t.prototype,"contentLabel3",void 0),__decorate([i(cc.Sprite)],t.prototype,"sprite3",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],SwallowScript:[function(t,e,o){"use strict";cc._RF.push(e,"a9987KxLyxGtaMFO3qcleAx","SwallowScript"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchBg,this)},e.prototype.onTouchBg=function(t){},e.prototype.start=function(){},e=__decorate([r],e)}(cc.Component));o.default=i,cc._RF.pop()},{}],UserManager:[function(t,e,o){"use strict";cc._RF.push(e,"4c46dYlwrNJE5gIdkYoizBu","UserManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=(n.property,t("../Game/Platform/Platform")),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){},e.prototype.setDay=function(t){cc.sys.localStorage.setItem("day",t)},e.prototype.getDay=function(){var t="-1",e=cc.sys.localStorage.getItem("day");return null!=e&&null!=e&&""!=e&&(t=e),parseInt(t)},e.prototype.setUserInfo=function(t){2==t.length&&(cc.sys.localStorage.setItem("nickName",t[0]),cc.sys.localStorage.setItem("avatarUrl",t[1]))},e.prototype.getUserInfo=function(){var t="",e=cc.sys.localStorage.getItem("nickName");null!=e&&null!=e&&""!=e&&(t=e);var o="",n=cc.sys.localStorage.getItem("avatarUrl");return null!=n&&null!=n&&""!=n&&(o=n),[t,o]},e.prototype.initGuide=function(){cc.sys.localStorage.removeItem("showGuide0"),cc.sys.localStorage.removeItem("showGuide1")},e.prototype.setIsShowGuide0=function(t){cc.sys.localStorage.setItem("showGuide0",t)},e.prototype.setIsShowGuide1=function(t){cc.sys.localStorage.setItem("showGuide1",t)},e.prototype.getIsShowGuide0=function(){return cc.sys.localStorage.getItem("showGuide0")},e.prototype.getIsShowGuide1=function(){return cc.sys.localStorage.getItem("showGuide1")},e.prototype.setTotalScore=function(t){i.default.updateScore(t),cc.sys.localStorage.setItem("totalScore",t)},e.prototype.getTotalScore=function(){var t="0",e=cc.sys.localStorage.getItem("totalScore");return null!=e&&null!=e&&""!=e&&(t=e),parseInt(t)},e.prototype.getLv=function(){var t=this.getTotalScore();return Math.floor(t/10)},e.prototype.getProgress=function(){return this.getTotalScore()%10/10},e.prototype.setPower=function(t){cc.sys.localStorage.setItem("power",t)},e.prototype.getPower=function(){var t="0",e=cc.sys.localStorage.getItem("power");return null!=e&&null!=e&&""!=e&&(t=e),parseInt(t)},e.prototype.setMoney=function(t){cc.sys.localStorage.setItem("money",t)},e.prototype.getMoney=function(){var t="0",e=cc.sys.localStorage.getItem("money");return null!=e&&null!=e&&""!=e&&(t=e),parseInt(t)},e.prototype.setGameMode=function(t){cc.sys.localStorage.setItem("gameMode",t)},e.prototype.getGameMode=function(){var t="0",e=cc.sys.localStorage.getItem("gameMode");return null!=e&&null!=e&&""!=e&&(t=e),t},e=__decorate([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../Game/Platform/Platform":"Platform"}],WXShareDataInfo:[function(t,e,o){"use strict";cc._RF.push(e,"4c09bpmlb1OVL8JAUmP10iO","WXShareDataInfo"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.success=function(t,e,o){},t}();o.default=n,cc._RF.pop()},{}]},{},["MenuController","PlayController","RankControllerJS","WXShareDataInfo","PlatformWX","Platform","BingoItem","ChangeMode","HeadIcon","Next","ScoreFlyNode","ScrollerItem","SwallowScript","LocalDataManager","UserManager"]);